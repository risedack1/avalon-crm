import { TabulatorFull as Tabulator } from "tabulator-tables";
const mainTable = document.getElementById("main-table");

const tabledata = [
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 1,
    name: "Oli",
    surname: "Bob",
    phone: "785485745",
    email: "test@test.com",
    sign: "нет",
    registrationDate: "2023-01-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
  {
    id: 2,
    name: "Mary",
    surname: "May",
    phone: "576876859",
    email: "test@test.com",
    sign: "да",
    registrationDate: "2023-04-30 23:58:42",
    country: "Россия",
    activeTime: "2023-07-30 23:58:42",
    platformType: "Desktop",
  },
];

if (mainTable) {
  const renderCheckbox = function () {
    return '<input type="checkbox" class="ui-checkbox">';
  };

  const table = new Tabulator(mainTable, {
    height: 700,
    data: tabledata,
    columns: [
      {
        formatter: renderCheckbox,
        width: 40,
        hozAlign: "center",
        vertAlign: "middle",
        field: "checkbox",
        headerSort: false,
        //   аттрибуты ((e, cell),
        cellClick: function () {},
      },
      { title: "Лид ID", field: "id", height: "35px" },
      { title: "Имя", field: "name" },
      { title: "Фамилия", field: "surname" },
      { title: "Номер телефона", field: "phone", hozAlign: "left" },
      { title: "Email", field: "email", hozAlign: "left" },
      { title: "Сигналы", field: "sign" },
      {
        title: "Дата регистрации",
        field: "registrationDate",
        sorter: "date",
        hozAlign: "center",
      },
      { title: "Страна", field: "country" },
      { title: "Время активности", field: "activeTime", width: 370 },
      {
        title: "Тип платформы",
        field: "platformType",
        width: "100%",
        maxWidth: 500,
      },
    ],
  });

  table.on("rowClick", function (e, row) {
    if (e.srcElement.getAttribute("type") === "checkbox") {
      console.log("checkbox");
    } else {
      alert("Row " + row.getData().id + " дальнейший код");
    }
  });
}
